const _0x2659=['cursorLook','setContect','addEventListener','pointinc','body','play','create','sprite','MouseConstraint','gravity','World','frontVer','options','floor','canvas','clear','Query','run','translate','remove','mouse','querySelector','point','Mouse','click','nextGroup','position','#CE7373','allBodies','clickInc','visibilitychange','stack','connection','textContent','glad','mousemove','src','Engine','min','sounds/tap.mp3','createConstraint','Bodies','texture','Composites','addChain','add','Composite','Comfortaa','clickDec','length','max','Events','img/head_ny.png','height','ddAaCCv17','label','visible','bounds','#E2ECF5','#96CE73','pause','lookAt','Bounds','Vector','rectangle','img/headA_ny.png','hidden','updateUserCount','width','removeChain','.users-online','Constraint','bodies','emit','img/head0A_ny.png','Онлайн:\x20','setAngularVelocity','random','applyForce','world','render'];(function(_0x132262,_0x339a50){const _0x2659e0=function(_0x48b421){while(--_0x48b421){_0x132262['push'](_0x132262['shift']());}};_0x2659e0(++_0x339a50);}(_0x2659,0x1d5));const _0x48b4=function(_0x132262,_0x339a50){_0x132262=_0x132262-0x90;let _0x2659e0=_0x2659[_0x132262];return _0x2659e0;};const _0x3e567e=_0x48b4,socket=io(),Engine=Matter[_0x3e567e(0xc6)],Render=Matter['Render'],Runner=Matter['Runner'],Body=Matter['Body'],Query=Matter[_0x3e567e(0xb1)],Events=Matter[_0x3e567e(0xd4)],Composite=Matter[_0x3e567e(0xcf)],Composites=Matter[_0x3e567e(0xcc)],Constraint=Matter[_0x3e567e(0x97)],MouseConstraint=Matter[_0x3e567e(0xa9)],Mouse=Matter[_0x3e567e(0xb8)],World=Matter[_0x3e567e(0xab)],Vector=Matter[_0x3e567e(0xe0)],Bounds=Matter[_0x3e567e(0xdf)],Bodies=Matter[_0x3e567e(0xca)],engine=Engine['create'](),world=engine[_0x3e567e(0x9f)],frontVersion=_0x3e567e(0xd7),render=Render['create']({'element':document[_0x3e567e(0xa5)],'engine':engine,'options':{'width':window['innerWidth'],'height':window['innerHeight'],'showAngleIndicator':![],'showCollisions':![],'showVelocity':![],'wireframes':![],'angles':![],'background':_0x3e567e(0xdb)}});Render[_0x3e567e(0xb2)](render);const runner=Runner['create']();Runner[_0x3e567e(0xb2)](runner,engine),world[_0x3e567e(0xaa)]['y']=0x0;let towerHeight=0x0,clientsCount=0x0;const group=Body[_0x3e567e(0xba)](!![]),group2=Body[_0x3e567e(0xba)](!![]),Head=new head({'position':{'x':0x15d,'y':0x19a},'xScale':0.57,'yScale':0.58})['create'](),HairBody=new hair({'position':{'x':0x15e,'y':0x140}}),Hair=HairBody['create']();HairBody[_0x3e567e(0xc9)](Hair);const EyeBody=new eyes({'position':{'x':0x147,'y':0x190},'eyeradius':0x8,'pupilradius':4.5,'eyecolor':'#F4F3EE','pupilcolor':'#1F2E37'}),Eye=EyeBody[_0x3e567e(0xa7)](),addChain=_0x35ad75=>{const _0x5952d7=_0x3e567e,_0x3071c9=new recthair(),_0x2baeb9=new hat(),_0x229614=new text();_0x229614[_0x5952d7(0xb4)](Hair),_0x2baeb9[_0x5952d7(0xb4)](Hair),_0x3071c9[_0x5952d7(0xb4)](Hair);if(_0x35ad75!=0x0)for(let _0x5977a5=0x0;_0x5977a5<=_0x35ad75-0x1;_0x5977a5++){HairBody[_0x5952d7(0xcd)](Hair);}_0x3071c9[_0x5952d7(0xa7)](Hair),_0x2baeb9[_0x5952d7(0xa7)](Hair),_0x229614[_0x5952d7(0xa7)](Hair),setContext(towerHeight);};function setContext(_0x4a9ab3){const _0x406fac=_0x3e567e,_0x89e398=new text();!isNaN(_0x4a9ab3)?_0x89e398['setContect'](Hair[_0x406fac(0x98)][Hair[_0x406fac(0x98)][_0x406fac(0xd2)]-0x1],Number(_0x4a9ab3)['toFixed'](0x3)):_0x89e398[_0x406fac(0xa2)](Hair[_0x406fac(0x98)][Hair[_0x406fac(0x98)][_0x406fac(0xd2)]-0x1],_0x4a9ab3);}function UpdateClick(_0x4150b6){if(_0x4150b6<0x0){towerHeight=0x0;return;}towerHeight=_0x4150b6,setContext(towerHeight);}const textincdec=Composites[_0x3e567e(0xc0)](0x0,0x0,0x1,0x1,0xa,0xa,()=>{});World[_0x3e567e(0xce)](world,textincdec);function incTowerHeight(){const _0x5dbbd0=_0x3e567e,_0x4d1214=Bodies[_0x5dbbd0(0x90)](Hair[_0x5dbbd0(0x98)][Hair['bodies'][_0x5dbbd0(0xd2)]-0x1]['position']['x'],Hair['bodies'][Hair[_0x5dbbd0(0x98)]['length']-0x1][_0x5dbbd0(0xbb)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':_0x5dbbd0(0xa4),'render':{'fillStyle':_0x5dbbd0(0xdb),'text':{'content':'+1','color':_0x5dbbd0(0xdc),'size':0x18,'family':_0x5dbbd0(0xd0)}},'frictionAir':0.3});Body[_0x5dbbd0(0x9e)](_0x4d1214,{'x':_0x4d1214[_0x5dbbd0(0xbb)]['x'],'y':_0x4d1214['position']['y']},{'x':0x0,'y':-0.05}),textincdec[_0x5dbbd0(0x98)][_0x5dbbd0(0xd2)]&&Composite[_0x5dbbd0(0xb0)](textincdec),Composite[_0x5dbbd0(0xce)](textincdec,_0x4d1214),UpdateClick(towerHeight+0.001),socket[_0x5dbbd0(0x99)](_0x5dbbd0(0xbe));}function decTowerHeight(){const _0xd5fb89=_0x3e567e,_0x4aaaab=Bodies['rectangle'](Hair[_0xd5fb89(0x98)][Hair[_0xd5fb89(0x98)][_0xd5fb89(0xd2)]-0x1][_0xd5fb89(0xbb)]['x'],Hair['bodies'][Hair[_0xd5fb89(0x98)][_0xd5fb89(0xd2)]-0x1][_0xd5fb89(0xbb)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':_0xd5fb89(0xa4),'render':{'fillStyle':_0xd5fb89(0xdb),'text':{'content':'-3','color':_0xd5fb89(0xbc),'size':0x18,'family':_0xd5fb89(0xd0)}},'frictionAir':0.3});Body[_0xd5fb89(0x9e)](_0x4aaaab,{'x':_0x4aaaab['position']['x'],'y':_0x4aaaab[_0xd5fb89(0xbb)]['y']},{'x':0x0,'y':-0.05});textincdec[_0xd5fb89(0x98)][_0xd5fb89(0xd2)]&&Composite[_0xd5fb89(0xb0)](textincdec);Composite[_0xd5fb89(0xce)](textincdec,_0x4aaaab);if(towerHeight<=0x0)return;UpdateClick(towerHeight-0.003);if(towerHeight<0x0)towerHeight=0x0;socket[_0xd5fb89(0x99)](_0xd5fb89(0xd1));}function removeOneChain(){const _0x53637c=_0x3e567e;if(towerHeight<=0x14)return;HairBody[_0x53637c(0x95)](Hair),setContext(towerHeight);}const addOneChain=()=>{const _0x5db9b0=_0x3e567e,_0x5e6b9e=new recthair(),_0x6d4175=new hat(),_0x3a8d48=new text();_0x3a8d48[_0x5db9b0(0xb4)](Hair),_0x6d4175[_0x5db9b0(0xb4)](Hair),_0x5e6b9e[_0x5db9b0(0xb4)](Hair),HairBody[_0x5db9b0(0xcd)](Hair),_0x5e6b9e[_0x5db9b0(0xa7)](Hair),_0x6d4175['create'](Hair),_0x3a8d48[_0x5db9b0(0xa7)](Hair),setContext(towerHeight);};setInterval(()=>{const _0x18f789=_0x3e567e;textincdec[_0x18f789(0x98)][_0x18f789(0xd2)]&&Composite['remove'](textincdec,textincdec['bodies'][0x0]);let _0x3ed42a=Hair[_0x18f789(0x98)][_0x18f789(0xd2)]-0x3,_0x3266be=towerHeight/0x14;_0x3266be=Math[_0x18f789(0xae)](_0x3266be);if(_0x3ed42a<_0x3266be)addOneChain(),_0x3ed42a=_0x3266be;else _0x3ed42a>_0x3266be&&(removeOneChain(),_0x3ed42a=_0x3266be);},0x3e8),new recthair()['create'](Hair),new hat()[_0x3e567e(0xa7)](Hair),new text()[_0x3e567e(0xa7)](Hair),World[_0x3e567e(0xce)](world,[Head,Hair,Eye]);function UpdateUsers(_0x26beb8){const _0x2ead74=_0x3e567e;clientsCount=_0x26beb8,document[_0x2ead74(0xb6)](_0x2ead74(0x96))[_0x2ead74(0xc2)]=_0x2ead74(0x9b)+clientsCount;}socket['on'](_0x3e567e(0xc1),_0x37fd17=>{const _0x478b75=_0x3e567e;socket[_0x478b75(0x99)](_0x478b75(0xac),frontVersion),UpdateClick(_0x37fd17);let _0x5a7c75=_0x37fd17/0x14;_0x5a7c75=Math[_0x478b75(0xae)](_0x5a7c75)-0x1,addChain(_0x5a7c75),firststart();});function firststart(){const _0x2c2a8b=_0x3e567e;let _0x296e3f={'x':0x0,'y':Hair[_0x2c2a8b(0x98)][Hair[_0x2c2a8b(0x98)]['length']-0x1][_0x2c2a8b(0xda)][_0x2c2a8b(0xd3)]['y']-0xc8};if(render[_0x2c2a8b(0xda)][_0x2c2a8b(0xd3)]['y']+_0x296e3f['y']>world['bounds'][_0x2c2a8b(0xd3)]['y'])_0x296e3f['y']=world['bounds'][_0x2c2a8b(0xd3)]['y']-render[_0x2c2a8b(0xda)][_0x2c2a8b(0xd3)]['y'];Bounds[_0x2c2a8b(0xb3)](render[_0x2c2a8b(0xda)],_0x296e3f);}socket['on'](_0x3e567e(0xac),frontVersion),socket['on'](_0x3e567e(0xbe),UpdateClick),socket['on'](_0x3e567e(0xd1),UpdateClick),socket['on']('autoDec',UpdateClick),socket['on'](_0x3e567e(0x93),UpdateUsers);const mouse=Mouse['create'](render[_0x3e567e(0xaf)]),mouseConstraint=MouseConstraint['create'](engine,{'mouse':mouse,'constraint':{'stiffness':0.001,'render':{'visible':![]}}});let mouseCoord={'x':0x0,'y':0x0};Events['on'](mouseConstraint,_0x3e567e(0xc4),_0x495ac5=>{const _0x187a64=_0x3e567e;mouseCoord['x']=_0x495ac5[_0x187a64(0xb5)][_0x187a64(0xbb)]['x'],mouseCoord['y']=_0x495ac5[_0x187a64(0xb5)][_0x187a64(0xbb)]['y'],EyeBody[_0x187a64(0xa1)](Eye[_0x187a64(0x98)][0x2],Eye[_0x187a64(0x98)][0x3],mouseCoord);});let btnclick=![];Events['on'](mouseConstraint,'enddrag',_0x15d478=>{const _0x3c47d6=_0x3e567e;let _0x3cb005=Composite['allBodies'](engine['world']),_0x24fce2=Query['point'](_0x3cb005,_0x15d478['mouse'][_0x3c47d6(0xbb)]);if(_0x15d478['body']['label']!=_0x3c47d6(0xc3)&&_0x15d478[_0x3c47d6(0xa5)][_0x3c47d6(0xd8)]!=_0x3c47d6(0xa4)){if(_0x24fce2[_0x3c47d6(0xd2)]==0x0){btnclick=!![],setTimeout(()=>{btnclick=![];},0x1f4);const _0x5b7590=new Audio();_0x5b7590[_0x3c47d6(0xc5)]='sounds/tap.mp3',_0x5b7590[_0x3c47d6(0xa6)](),decTowerHeight();}}}),document['addEventListener'](_0x3e567e(0xb9),()=>{const _0x162084=_0x3e567e;let _0x415612=Composite[_0x162084(0xbd)](engine['world']),_0x55616b=Query[_0x162084(0xb7)](_0x415612,mouseConstraint[_0x162084(0xb5)][_0x162084(0xbb)]),_0x17069e=!![];_0x55616b['forEach'](function(_0x5cdf05){const _0x439a3f=_0x162084;if(_0x5cdf05[_0x439a3f(0xd8)]!=_0x439a3f(0xc3)&&_0x5cdf05['label']!=_0x439a3f(0xa4)&&_0x17069e){let _0x6f3c4e=Hair[_0x439a3f(0x98)][Hair[_0x439a3f(0x98)][_0x439a3f(0xd2)]-0x4];btnclick=!![],setTimeout(()=>{btnclick=![];},0x1f4);const _0xb0265f=new Audio();_0xb0265f[_0x439a3f(0xc5)]=_0x439a3f(0xc8),_0xb0265f[_0x439a3f(0xa6)]();let _0x57a242=getRandomFloat(-0.05,0.05);Body[_0x439a3f(0x9c)](_0x6f3c4e,_0x57a242),Body[_0x439a3f(0x9e)](_0x6f3c4e,_0x6f3c4e[_0x439a3f(0xbb)],{'x':_0x57a242,'y':0x0}),incTowerHeight(),_0x17069e=![];}});}),World[_0x3e567e(0xce)](world,mouseConstraint),render[_0x3e567e(0xb5)]=mouse,Render[_0x3e567e(0xde)](render,{'min':{'x':0x0,'y':0x0},'max':{'x':0x2bc,'y':0x258}});let viewportCentre={'x':render[_0x3e567e(0xad)][_0x3e567e(0x94)]*0.5,'y':render[_0x3e567e(0xad)][_0x3e567e(0xd6)]*0.5};world[_0x3e567e(0xda)][_0x3e567e(0xc7)]['y']=-0x12c,world['bounds'][_0x3e567e(0xd3)]['y']=0x258;let boundsScaleTarget=0x1,boundsScale={'x':0x1,'y':0x1},animid=0x0;document[_0x3e567e(0xa3)](_0x3e567e(0xbf),function(){const _0x10e9b7=_0x3e567e;if(document[_0x10e9b7(0x92)])bgMusicplay[_0x10e9b7(0xdd)]();else!document[_0x10e9b7(0x92)]&&toggle!=![]&&bgMusicplay['play']();},!![]),Events['on'](engine,'beforeTick',function(){const _0x4dde8a=_0x3e567e;var _0x4356b0=engine[_0x4dde8a(0x9f)],_0x50bd2d=mouseConstraint[_0x4dde8a(0xb5)],_0xa7381d,_0x12c0d8=_0x50bd2d['wheelDelta']*-0.1;_0x12c0d8!==0x0&&((_0x12c0d8<0x0&&boundsScale['x']>=0.6||_0x12c0d8>0x0&&boundsScale['x']<=1.4)&&(boundsScaleTarget+=_0x12c0d8));if(Math['abs'](boundsScale['x']-boundsScaleTarget)>0.01){_0x12c0d8=(boundsScaleTarget-boundsScale['y'])*0.2,boundsScale['y']+=_0x12c0d8,_0xa7381d={'x':0x0,'y':render['options'][_0x4dde8a(0xd6)]*_0x12c0d8*0.5};if(render[_0x4dde8a(0xda)][_0x4dde8a(0xd3)]['y']+_0xa7381d['y']>_0x4356b0[_0x4dde8a(0xda)][_0x4dde8a(0xd3)]['y'])_0xa7381d['y']=_0x4356b0[_0x4dde8a(0xda)][_0x4dde8a(0xd3)]['y']-render[_0x4dde8a(0xda)][_0x4dde8a(0xd3)]['y'];Bounds[_0x4dde8a(0xb3)](render[_0x4dde8a(0xda)],_0xa7381d);}if(towerHeight<=0x0&&btnclick!=!![])Head[_0x4dde8a(0xa0)][_0x4dde8a(0xa8)][_0x4dde8a(0xcb)]='img/head0_ny.png',animid=0x1,Head['position']['y']=0x1aa,Hair['bodies'][0x2][_0x4dde8a(0xa0)][_0x4dde8a(0xd9)]=![],Hair['bodies'][0x1]['render'][_0x4dde8a(0xd9)]=![],Hair[_0x4dde8a(0x98)][0x0][_0x4dde8a(0xa0)][_0x4dde8a(0xd9)]=![];else towerHeight>=0x0&&btnclick!=!![]&&(Head[_0x4dde8a(0xa0)][_0x4dde8a(0xa8)][_0x4dde8a(0xcb)]=_0x4dde8a(0xd5),animid=0x2,Head[_0x4dde8a(0xbb)]['y']=0x1ba,Hair[_0x4dde8a(0x98)][0x2][_0x4dde8a(0xa0)][_0x4dde8a(0xd9)]=!![],Hair['bodies'][0x1]['render'][_0x4dde8a(0xd9)]=!![],Hair[_0x4dde8a(0x98)][0x0][_0x4dde8a(0xa0)][_0x4dde8a(0xd9)]=!![]);if(animid==0x1&&btnclick==!![])Head[_0x4dde8a(0xbb)]['y']=0x1a8,Head[_0x4dde8a(0xa0)][_0x4dde8a(0xa8)][_0x4dde8a(0xcb)]=_0x4dde8a(0x9a);else animid==0x2&&btnclick==!![]&&(Head['position']['y']=0x1b8,Head[_0x4dde8a(0xa0)][_0x4dde8a(0xa8)][_0x4dde8a(0xcb)]=_0x4dde8a(0x91));towerHeight<=0x0&&setContext('У\x20вас\x200');});function getRandomFloat(_0x2cfe4d,_0x1ec82c){return Math['random']()*(_0x1ec82c-_0x2cfe4d)+_0x2cfe4d;}function getRandomInt(_0x2461e3,_0xdbc3b){const _0x160aaf=_0x3e567e;return Math[_0x160aaf(0xae)](Math[_0x160aaf(0x9d)]()*(_0xdbc3b-_0x2461e3+0x1))+_0x2461e3;}