const _0x9227=['Events','play','pause','autoDec','.users-online','Comfortaa','rectangle','#E2ECF5','cursorLook','img/head0A_ny.png','Mouse','querySelector','addChain','render','-100','visibilitychange','createConstraint','Render','Query','wheelDelta','src','aaaAaCv18','clickInc','min','innerHeight','Bounds','setAngularVelocity','width','Engine','#1F2E37','run','#CE7373','canvas','gravity','abs','.notification','emit','img/head0_ny.png','label','random','beforeTick','updateUserCount','forEach','lookAt','glad','texture','options','У\x20вас\x200','world','Онлайн:\x20','MouseConstraint','body','sounds/tap.mp3','add','clear','length','#F4F3EE','hidden','height','floor','click','World','toFixed','sprite','mouse','bodies','create','frontVer','#96CE73','Constraint','enddrag','stack','Vector','remove','max','Body','allBodies','applyForce','Bodies','bounds','pointinc','point','img/head_ny.png','mousemove','visible','clickDec','nextGroup','addEventListener','Никто\x20не\x20строит\x20башню\x20Sadge','setContect','Composite','position','textContent'];(function(_0x4e0bcd,_0x52e2df){const _0x922794=function(_0x2b6177){while(--_0x2b6177){_0x4e0bcd['push'](_0x4e0bcd['shift']());}};_0x922794(++_0x52e2df);}(_0x9227,0x1a1));const _0x2b61=function(_0x4e0bcd,_0x52e2df){_0x4e0bcd=_0x4e0bcd-0x176;let _0x922794=_0x9227[_0x4e0bcd];return _0x922794;};const _0x3b9ab1=_0x2b61,socket=io(),Engine=Matter[_0x3b9ab1(0x1c2)],Render=Matter[_0x3b9ab1(0x1b7)],Runner=Matter['Runner'],Body=Matter[_0x3b9ab1(0x194)],Query=Matter[_0x3b9ab1(0x1b8)],Events=Matter[_0x3b9ab1(0x1a6)],Composite=Matter[_0x3b9ab1(0x1a3)],Composites=Matter['Composites'],Constraint=Matter[_0x3b9ab1(0x18e)],MouseConstraint=Matter[_0x3b9ab1(0x17b)],Mouse=Matter[_0x3b9ab1(0x1b0)],World=Matter[_0x3b9ab1(0x186)],Vector=Matter[_0x3b9ab1(0x191)],Bounds=Matter[_0x3b9ab1(0x1bf)],Bodies=Matter[_0x3b9ab1(0x197)],engine=Engine['create'](),world=engine[_0x3b9ab1(0x179)],frontVersion=_0x3b9ab1(0x1bb),render=Render['create']({'element':document['body'],'engine':engine,'options':{'width':window['innerWidth'],'height':window[_0x3b9ab1(0x1be)],'showAngleIndicator':![],'showCollisions':![],'showVelocity':![],'wireframes':![],'angles':![],'background':_0x3b9ab1(0x1ad)}});Render[_0x3b9ab1(0x1c4)](render);const runner=Runner[_0x3b9ab1(0x18b)]();Runner[_0x3b9ab1(0x1c4)](runner,engine),world[_0x3b9ab1(0x1c7)]['y']=0x0;let towerHeight=0x0,clientsCount=0x0;const group=Body[_0x3b9ab1(0x19f)](!![]),group2=Body[_0x3b9ab1(0x19f)](!![]),Head=new head({'position':{'x':0x15d,'y':0x19a},'xScale':0.57,'yScale':0.58})[_0x3b9ab1(0x18b)](),HairBody=new hair({'position':{'x':0x15e,'y':0x140}}),Hair=HairBody['create']();HairBody[_0x3b9ab1(0x1b6)](Hair);const EyeBody=new eyes({'position':{'x':0x147,'y':0x190},'eyeradius':0x8,'pupilradius':4.5,'eyecolor':_0x3b9ab1(0x181),'pupilcolor':_0x3b9ab1(0x1c3)}),Eye=EyeBody['create'](),addChain=_0x2455f6=>{const _0x2bb9e9=_0x3b9ab1,_0x8d8a95=new recthair(),_0x2102c1=new hat(),_0x3e5720=new text();_0x3e5720[_0x2bb9e9(0x192)](Hair),_0x2102c1[_0x2bb9e9(0x192)](Hair),_0x8d8a95[_0x2bb9e9(0x192)](Hair);if(_0x2455f6!=0x0)for(let _0x1d6eeb=0x0;_0x1d6eeb<=_0x2455f6-0x1;_0x1d6eeb++){HairBody[_0x2bb9e9(0x1b2)](Hair);}_0x8d8a95[_0x2bb9e9(0x18b)](Hair),_0x2102c1['create'](Hair),_0x3e5720[_0x2bb9e9(0x18b)](Hair),setContext(towerHeight);};function setContext(_0x5bc5e4){const _0x34802b=_0x3b9ab1,_0x158bca=new text();!isNaN(_0x5bc5e4)?_0x158bca[_0x34802b(0x1a2)](Hair[_0x34802b(0x18a)][Hair['bodies'][_0x34802b(0x180)]-0x1],Number(_0x5bc5e4)[_0x34802b(0x187)](0x3)):_0x158bca[_0x34802b(0x1a2)](Hair['bodies'][Hair[_0x34802b(0x18a)]['length']-0x1],_0x5bc5e4);}function UpdateClick(_0x28f3ca){if(_0x28f3ca<0x0){towerHeight=0x0;return;}towerHeight=_0x28f3ca,setContext(towerHeight);}const textincdec=Composites[_0x3b9ab1(0x190)](0x0,0x0,0x1,0x1,0xa,0xa,()=>{});World[_0x3b9ab1(0x17e)](world,textincdec);function incTowerHeight(){const _0x156cce=_0x3b9ab1,_0x2e1a56=Bodies[_0x156cce(0x1ac)](Hair[_0x156cce(0x18a)][Hair[_0x156cce(0x18a)]['length']-0x1][_0x156cce(0x1a4)]['x'],Hair[_0x156cce(0x18a)][Hair[_0x156cce(0x18a)][_0x156cce(0x180)]-0x1][_0x156cce(0x1a4)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':_0x156cce(0x199),'render':{'fillStyle':_0x156cce(0x1ad),'text':{'content':'+1','color':_0x156cce(0x18d),'size':0x18,'family':_0x156cce(0x1ab)}},'frictionAir':0.3});Body[_0x156cce(0x196)](_0x2e1a56,{'x':_0x2e1a56[_0x156cce(0x1a4)]['x'],'y':_0x2e1a56['position']['y']},{'x':0x0,'y':-0.05}),textincdec[_0x156cce(0x18a)][_0x156cce(0x180)]&&Composite[_0x156cce(0x17f)](textincdec),Composite[_0x156cce(0x17e)](textincdec,_0x2e1a56),UpdateClick(towerHeight+0.001),socket[_0x156cce(0x1ca)](_0x156cce(0x1bc));}function decTowerHeight(){const _0x23cfa6=_0x3b9ab1,_0x2fc00e=Bodies[_0x23cfa6(0x1ac)](Hair[_0x23cfa6(0x18a)][Hair[_0x23cfa6(0x18a)]['length']-0x1]['position']['x'],Hair[_0x23cfa6(0x18a)][Hair[_0x23cfa6(0x18a)][_0x23cfa6(0x180)]-0x1][_0x23cfa6(0x1a4)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':_0x23cfa6(0x199),'render':{'fillStyle':_0x23cfa6(0x1ad),'text':{'content':'-3','color':_0x23cfa6(0x1c5),'size':0x18,'family':_0x23cfa6(0x1ab)}},'frictionAir':0.3});Body[_0x23cfa6(0x196)](_0x2fc00e,{'x':_0x2fc00e['position']['x'],'y':_0x2fc00e[_0x23cfa6(0x1a4)]['y']},{'x':0x0,'y':-0.05});textincdec[_0x23cfa6(0x18a)][_0x23cfa6(0x180)]&&Composite[_0x23cfa6(0x17f)](textincdec);Composite[_0x23cfa6(0x17e)](textincdec,_0x2fc00e);if(towerHeight<=0x0)return;UpdateClick(towerHeight-0.003);if(towerHeight<0x0)towerHeight=0x0;socket['emit'](_0x23cfa6(0x19e));}function removeOneChain(){if(towerHeight<=0x14)return;HairBody['removeChain'](Hair),setContext(towerHeight);}const addOneChain=()=>{const _0x19e9a4=_0x3b9ab1,_0x2ef134=new recthair(),_0x41fa62=new hat(),_0x131313=new text();_0x131313[_0x19e9a4(0x192)](Hair),_0x41fa62['remove'](Hair),_0x2ef134['remove'](Hair),HairBody[_0x19e9a4(0x1b2)](Hair),_0x2ef134[_0x19e9a4(0x18b)](Hair),_0x41fa62['create'](Hair),_0x131313[_0x19e9a4(0x18b)](Hair),setContext(towerHeight);};setInterval(()=>{const _0x2041bd=_0x3b9ab1;textincdec[_0x2041bd(0x18a)]['length']&&Composite[_0x2041bd(0x192)](textincdec,textincdec['bodies'][0x0]);let _0x4ebec0=Hair[_0x2041bd(0x18a)]['length']-0x3,_0x3e8594=towerHeight/0x14;_0x3e8594=Math[_0x2041bd(0x184)](_0x3e8594);if(_0x4ebec0<_0x3e8594)addOneChain(),_0x4ebec0=_0x3e8594;else _0x4ebec0>_0x3e8594&&(removeOneChain(),_0x4ebec0=_0x3e8594);},0x3e8),new recthair()['create'](Hair),new hat()[_0x3b9ab1(0x18b)](Hair),new text()['create'](Hair),World[_0x3b9ab1(0x17e)](world,[Head,Hair,Eye]);function UpdateUsers(_0x34a80c){const _0x3c6497=_0x3b9ab1;clientsCount=_0x34a80c,document[_0x3c6497(0x1b1)](_0x3c6497(0x1aa))['textContent']=_0x3c6497(0x17a)+clientsCount;}socket['on']('connection',_0x5cf3a0=>{const _0x24ade6=_0x3b9ab1;socket[_0x24ade6(0x1ca)](_0x24ade6(0x18c),frontVersion),UpdateClick(_0x5cf3a0);let _0x9dbe43=_0x5cf3a0/0x14;_0x9dbe43=Math[_0x24ade6(0x184)](_0x9dbe43)-0x1,addChain(_0x9dbe43),firststart();});function firststart(){const _0x311ad5=_0x3b9ab1;let _0x3f3760={'x':0x0,'y':Hair[_0x311ad5(0x18a)][Hair[_0x311ad5(0x18a)]['length']-0x1][_0x311ad5(0x198)]['max']['y']-0xc8};if(render[_0x311ad5(0x198)][_0x311ad5(0x193)]['y']+_0x3f3760['y']>world['bounds']['max']['y'])_0x3f3760['y']=world['bounds'][_0x311ad5(0x193)]['y']-render[_0x311ad5(0x198)][_0x311ad5(0x193)]['y'];Bounds['translate'](render['bounds'],_0x3f3760);}socket['on'](_0x3b9ab1(0x18c),frontVersion),socket['on'](_0x3b9ab1(0x1bc),UpdateClick),socket['on'](_0x3b9ab1(0x19e),UpdateClick),socket['on'](_0x3b9ab1(0x1a9),_0x3787f4=>{const _0x115c62=_0x3b9ab1,_0x235f43=document[_0x115c62(0x1b1)](_0x115c62(0x1c9));_0x235f43[_0x115c62(0x1a5)]=_0x115c62(0x1a1),UpdateClick(_0x3787f4);const _0x746a4e=Bodies[_0x115c62(0x1ac)](Hair[_0x115c62(0x18a)][Hair[_0x115c62(0x18a)][_0x115c62(0x180)]-0x1]['position']['x'],Hair[_0x115c62(0x18a)][Hair[_0x115c62(0x18a)][_0x115c62(0x180)]-0x1][_0x115c62(0x1a4)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':'pointdec','render':{'fillStyle':_0x115c62(0x1ad),'text':{'content':_0x115c62(0x1b4),'color':_0x115c62(0x1c5),'size':0x12,'family':_0x115c62(0x1ab)}},'frictionAir':0.3});Body[_0x115c62(0x196)](_0x746a4e,{'x':_0x746a4e[_0x115c62(0x1a4)]['x'],'y':_0x746a4e[_0x115c62(0x1a4)]['y']},{'x':0x0,'y':-0.05}),textincdec[_0x115c62(0x18a)][_0x115c62(0x180)]&&Composite[_0x115c62(0x17f)](textincdec),Composite[_0x115c62(0x17e)](textincdec,_0x746a4e);}),socket['on'](_0x3b9ab1(0x1cf),UpdateUsers);const mouse=Mouse[_0x3b9ab1(0x18b)](render[_0x3b9ab1(0x1c6)]),mouseConstraint=MouseConstraint[_0x3b9ab1(0x18b)](engine,{'mouse':mouse,'constraint':{'stiffness':0.001,'render':{'visible':![]}}});let mouseCoord={'x':0x0,'y':0x0};Events['on'](mouseConstraint,_0x3b9ab1(0x19c),_0x32a6c3=>{const _0x487f4b=_0x3b9ab1;mouseCoord['x']=_0x32a6c3[_0x487f4b(0x189)][_0x487f4b(0x1a4)]['x'],mouseCoord['y']=_0x32a6c3['mouse']['position']['y'],EyeBody[_0x487f4b(0x1ae)](Eye[_0x487f4b(0x18a)][0x2],Eye[_0x487f4b(0x18a)][0x3],mouseCoord);});let btnclick=![];Events['on'](mouseConstraint,_0x3b9ab1(0x18f),_0x304722=>{const _0x31007d=_0x3b9ab1;let _0x5085c2=Composite[_0x31007d(0x195)](engine[_0x31007d(0x179)]),_0xc6236=Query['point'](_0x5085c2,_0x304722['mouse']['position']);if(_0x304722[_0x31007d(0x17c)][_0x31007d(0x1cc)]!=_0x31007d(0x1d2)&&_0x304722[_0x31007d(0x17c)][_0x31007d(0x1cc)]!='pointinc'){if(_0xc6236['length']==0x0){btnclick=!![],setTimeout(()=>{btnclick=![];},0x1f4);const _0x23746a=new Audio();_0x23746a[_0x31007d(0x1ba)]='sounds/tap.mp3',_0x23746a[_0x31007d(0x1a7)](),decTowerHeight();}}}),document[_0x3b9ab1(0x1a0)](_0x3b9ab1(0x185),()=>{const _0x333f8e=_0x3b9ab1,_0x1a635d=document['querySelector'](_0x333f8e(0x1c9));let _0x4c1f6a=Composite[_0x333f8e(0x195)](engine[_0x333f8e(0x179)]),_0x334d35=Query[_0x333f8e(0x19a)](_0x4c1f6a,mouseConstraint[_0x333f8e(0x189)][_0x333f8e(0x1a4)]),_0x3743b3=!![];_0x334d35[_0x333f8e(0x1d0)](function(_0x27083e){const _0x33810d=_0x333f8e;if(_0x27083e[_0x33810d(0x1cc)]!=_0x33810d(0x1d2)&&_0x27083e[_0x33810d(0x1cc)]!=_0x33810d(0x199)&&_0x3743b3){let _0x3d828b=Hair['bodies'][Hair[_0x33810d(0x18a)][_0x33810d(0x180)]-0x4];_0x1a635d[_0x33810d(0x1a5)]='',btnclick=!![],setTimeout(()=>{btnclick=![];},0x1f4);const _0x31d5a0=new Audio();_0x31d5a0[_0x33810d(0x1ba)]=_0x33810d(0x17d),_0x31d5a0[_0x33810d(0x1a7)]();let _0x2d56c8=getRandomFloat(-0.05,0.05);Body[_0x33810d(0x1c0)](_0x3d828b,_0x2d56c8),Body[_0x33810d(0x196)](_0x3d828b,_0x3d828b['position'],{'x':_0x2d56c8,'y':0x0}),incTowerHeight(),_0x3743b3=![];}});}),World['add'](world,mouseConstraint),render[_0x3b9ab1(0x189)]=mouse,Render[_0x3b9ab1(0x1d1)](render,{'min':{'x':0x0,'y':0x0},'max':{'x':0x2bc,'y':0x258}});let viewportCentre={'x':render[_0x3b9ab1(0x177)][_0x3b9ab1(0x1c1)]*0.5,'y':render[_0x3b9ab1(0x177)][_0x3b9ab1(0x183)]*0.5};world[_0x3b9ab1(0x198)][_0x3b9ab1(0x1bd)]['y']=-0x12c,world['bounds'][_0x3b9ab1(0x193)]['y']=0x258;let boundsScaleTarget=0x1,boundsScale={'x':0x1,'y':0x1},animid=0x0;document[_0x3b9ab1(0x1a0)](_0x3b9ab1(0x1b5),function(){const _0x288d1d=_0x3b9ab1;if(document[_0x288d1d(0x182)])bgMusicplay[_0x288d1d(0x1a8)]();else!document[_0x288d1d(0x182)]&&toggle!=![]&&bgMusicplay[_0x288d1d(0x1a7)]();},!![]),Events['on'](engine,_0x3b9ab1(0x1ce),function(){const _0x3c6bf3=_0x3b9ab1;var _0x1bc944=engine[_0x3c6bf3(0x179)],_0x184753=mouseConstraint[_0x3c6bf3(0x189)],_0x11ab1b,_0x16e957=_0x184753[_0x3c6bf3(0x1b9)]*-0.1;_0x16e957!==0x0&&((_0x16e957<0x0&&boundsScale['x']>=0.6||_0x16e957>0x0&&boundsScale['x']<=1.4)&&(boundsScaleTarget+=_0x16e957));if(Math[_0x3c6bf3(0x1c8)](boundsScale['x']-boundsScaleTarget)>0.01){_0x16e957=(boundsScaleTarget-boundsScale['y'])*0.2,boundsScale['y']+=_0x16e957,_0x11ab1b={'x':0x0,'y':render['options'][_0x3c6bf3(0x183)]*_0x16e957*0.5};if(render['bounds'][_0x3c6bf3(0x193)]['y']+_0x11ab1b['y']>_0x1bc944[_0x3c6bf3(0x198)][_0x3c6bf3(0x193)]['y'])_0x11ab1b['y']=_0x1bc944[_0x3c6bf3(0x198)]['max']['y']-render[_0x3c6bf3(0x198)][_0x3c6bf3(0x193)]['y'];Bounds['translate'](render['bounds'],_0x11ab1b);}if(towerHeight<=0x0&&btnclick!=!![])Head['render'][_0x3c6bf3(0x188)][_0x3c6bf3(0x176)]=_0x3c6bf3(0x1cb),animid=0x1,Head['position']['y']=0x1aa,Hair[_0x3c6bf3(0x18a)][0x2]['render'][_0x3c6bf3(0x19d)]=![],Hair[_0x3c6bf3(0x18a)][0x1]['render'][_0x3c6bf3(0x19d)]=![],Hair[_0x3c6bf3(0x18a)][0x0]['render'][_0x3c6bf3(0x19d)]=![];else towerHeight>=0x0&&btnclick!=!![]&&(Head[_0x3c6bf3(0x1b3)][_0x3c6bf3(0x188)]['texture']=_0x3c6bf3(0x19b),animid=0x2,Head[_0x3c6bf3(0x1a4)]['y']=0x1ba,Hair[_0x3c6bf3(0x18a)][0x2][_0x3c6bf3(0x1b3)][_0x3c6bf3(0x19d)]=!![],Hair[_0x3c6bf3(0x18a)][0x1][_0x3c6bf3(0x1b3)]['visible']=!![],Hair[_0x3c6bf3(0x18a)][0x0][_0x3c6bf3(0x1b3)][_0x3c6bf3(0x19d)]=!![]);if(animid==0x1&&btnclick==!![])Head['position']['y']=0x1a8,Head[_0x3c6bf3(0x1b3)][_0x3c6bf3(0x188)][_0x3c6bf3(0x176)]=_0x3c6bf3(0x1af);else animid==0x2&&btnclick==!![]&&(Head['position']['y']=0x1b8,Head[_0x3c6bf3(0x1b3)][_0x3c6bf3(0x188)][_0x3c6bf3(0x176)]='img/headA_ny.png');towerHeight<=0x0&&setContext(_0x3c6bf3(0x178));});function getRandomFloat(_0x47cba9,_0x134652){const _0x650d29=_0x3b9ab1;return Math[_0x650d29(0x1cd)]()*(_0x134652-_0x47cba9)+_0x47cba9;}function getRandomInt(_0x4b6440,_0x59aafa){const _0x1bafca=_0x3b9ab1;return Math[_0x1bafca(0x184)](Math[_0x1bafca(0x1cd)]()*(_0x59aafa-_0x4b6440+0x1))+_0x4b6440;}