const _0x2a31=['Query','lookAt','#1F2E37','rectangle','Composite','point','run','emit','cursorLook','mouse','enddrag','remove','Events','Никто\x20не\x20строит\x20башню\x20SADGE','Bounds','#E2ECF5','label','src','sprite','allBodies','wheelDelta','random','img/headA_ny.png','visible','body','bounds','texture','canvas','pointdec','.notification','Runner','stack','nextGroup','sounds/tap.mp3','createConstraint','play','options','hidden','#96CE73','length','Constraint','Engine','floor','#CE7373','img/head0_ny.png','world','World','autoDec','textContent','innerWidth','Bodies','setContect','У\x20вас\x200','frontVer','glad','render','forEach','innerHeight','width','querySelector','img/head0A_ny.png','clear','height','img/head_ny.png','min','addEventListener','max','add','addChain','translate','beforeTick','clickInc','pointinc','gravity','Comfortaa','clickDec','removeChain','create','applyForce','Vector','position','updateUserCount','Body','bodies'];(function(_0x4ed6e6,_0x4dec7a){const _0x2a3117=function(_0x4145d2){while(--_0x4145d2){_0x4ed6e6['push'](_0x4ed6e6['shift']());}};_0x2a3117(++_0x4dec7a);}(_0x2a31,0x152));const _0x4145=function(_0x4ed6e6,_0x4dec7a){_0x4ed6e6=_0x4ed6e6-0x1cb;let _0x2a3117=_0x2a31[_0x4ed6e6];return _0x2a3117;};const _0x45b5b0=_0x4145,socket=io(),Engine=Matter[_0x45b5b0(0x1f2)],Render=Matter['Render'],Runner=Matter[_0x45b5b0(0x1e7)],Body=Matter[_0x45b5b0(0x21b)],Query=Matter[_0x45b5b0(0x21d)],Events=Matter[_0x45b5b0(0x1d5)],Composite=Matter[_0x45b5b0(0x1cd)],Composites=Matter['Composites'],Constraint=Matter[_0x45b5b0(0x1f1)],MouseConstraint=Matter['MouseConstraint'],Mouse=Matter['Mouse'],World=Matter[_0x45b5b0(0x1f7)],Vector=Matter[_0x45b5b0(0x218)],Bounds=Matter[_0x45b5b0(0x1d7)],Bodies=Matter[_0x45b5b0(0x1fb)],engine=Engine['create'](),world=engine[_0x45b5b0(0x1f6)],frontVersion=0x14,render=Render[_0x45b5b0(0x216)]({'element':document['body'],'engine':engine,'options':{'width':window[_0x45b5b0(0x1fa)],'height':window[_0x45b5b0(0x202)],'showAngleIndicator':![],'showCollisions':![],'showVelocity':![],'wireframes':![],'angles':![],'background':_0x45b5b0(0x1d8)}});Render['run'](render);const runner=Runner[_0x45b5b0(0x216)]();Runner[_0x45b5b0(0x1cf)](runner,engine),world[_0x45b5b0(0x212)]['y']=0x0;let towerHeight=0x0,clientsCount=0x0;const group=Body[_0x45b5b0(0x1e9)](!![]),group2=Body['nextGroup'](!![]),Head=new head({'position':{'x':0x15d,'y':0x19a},'xScale':0.57,'yScale':0.58})[_0x45b5b0(0x216)](),HairBody=new hair({'position':{'x':0x15e,'y':0x140}}),Hair=HairBody[_0x45b5b0(0x216)]();HairBody[_0x45b5b0(0x1eb)](Hair);const EyeBody=new eyes({'position':{'x':0x147,'y':0x190},'eyeradius':0x8,'pupilradius':4.5,'eyecolor':'#F4F3EE','pupilcolor':_0x45b5b0(0x1cb)}),Eye=EyeBody['create'](),addChain=_0x507ac4=>{const _0x34c972=_0x45b5b0,_0x55e976=new recthair(),_0x5f4d3e=new hat(),_0x43519f=new text();_0x43519f['remove'](Hair),_0x5f4d3e[_0x34c972(0x1d4)](Hair),_0x55e976[_0x34c972(0x1d4)](Hair);if(_0x507ac4!=0x0)for(let _0x43cdb5=0x0;_0x43cdb5<=_0x507ac4-0x1;_0x43cdb5++){HairBody[_0x34c972(0x20d)](Hair);}_0x55e976[_0x34c972(0x216)](Hair),_0x5f4d3e[_0x34c972(0x216)](Hair),_0x43519f[_0x34c972(0x216)](Hair),setContext(towerHeight);};function setContext(_0xd5547b){const _0x17119b=_0x45b5b0,_0x31ac00=new text();!isNaN(_0xd5547b)?_0x31ac00[_0x17119b(0x1fc)](Hair[_0x17119b(0x21c)][Hair[_0x17119b(0x21c)][_0x17119b(0x1f0)]-0x1],Number(_0xd5547b)['toFixed'](0x3)):_0x31ac00['setContect'](Hair[_0x17119b(0x21c)][Hair[_0x17119b(0x21c)][_0x17119b(0x1f0)]-0x1],_0xd5547b);}function UpdateClick(_0x3be365){if(_0x3be365<0x0){towerHeight=0x0;return;}towerHeight=_0x3be365,setContext(towerHeight);}const textincdec=Composites[_0x45b5b0(0x1e8)](0x0,0x0,0x1,0x1,0xa,0xa,()=>{});World[_0x45b5b0(0x20c)](world,textincdec);function incTowerHeight(){const _0x58b38f=_0x45b5b0,_0x20a204=Bodies[_0x58b38f(0x1cc)](Hair['bodies'][Hair[_0x58b38f(0x21c)][_0x58b38f(0x1f0)]-0x1][_0x58b38f(0x219)]['x'],Hair[_0x58b38f(0x21c)][Hair[_0x58b38f(0x21c)][_0x58b38f(0x1f0)]-0x1][_0x58b38f(0x219)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':'pointinc','render':{'fillStyle':_0x58b38f(0x1d8),'text':{'content':'+1','color':_0x58b38f(0x1ef),'size':0x18,'family':_0x58b38f(0x213)}},'frictionAir':0.3});Body['applyForce'](_0x20a204,{'x':_0x20a204[_0x58b38f(0x219)]['x'],'y':_0x20a204[_0x58b38f(0x219)]['y']},{'x':0x0,'y':-0.05}),textincdec[_0x58b38f(0x21c)]['length']&&Composite[_0x58b38f(0x206)](textincdec),Composite[_0x58b38f(0x20c)](textincdec,_0x20a204),UpdateClick(towerHeight+0.001),socket['emit']('clickInc');}function decTowerHeight(){const _0xd1a40e=_0x45b5b0,_0x110934=Bodies[_0xd1a40e(0x1cc)](Hair['bodies'][Hair['bodies']['length']-0x1]['position']['x'],Hair[_0xd1a40e(0x21c)][Hair[_0xd1a40e(0x21c)][_0xd1a40e(0x1f0)]-0x1][_0xd1a40e(0x219)]['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':_0xd1a40e(0x211),'render':{'fillStyle':_0xd1a40e(0x1d8),'text':{'content':'-3','color':_0xd1a40e(0x1f4),'size':0x18,'family':'Comfortaa'}},'frictionAir':0.3});Body[_0xd1a40e(0x217)](_0x110934,{'x':_0x110934[_0xd1a40e(0x219)]['x'],'y':_0x110934[_0xd1a40e(0x219)]['y']},{'x':0x0,'y':-0.05});textincdec['bodies']['length']&&Composite['clear'](textincdec);Composite[_0xd1a40e(0x20c)](textincdec,_0x110934);if(towerHeight<=0x0)return;UpdateClick(towerHeight-0.003);if(towerHeight<0x0)towerHeight=0x0;socket['emit'](_0xd1a40e(0x214));}function removeOneChain(){const _0x4c7a26=_0x45b5b0;if(towerHeight<=0x14)return;HairBody[_0x4c7a26(0x215)](Hair),setContext(towerHeight);}const addOneChain=()=>{const _0x36240a=_0x45b5b0,_0x3e7080=new recthair(),_0x2c0f2c=new hat(),_0x1c09da=new text();_0x1c09da[_0x36240a(0x1d4)](Hair),_0x2c0f2c[_0x36240a(0x1d4)](Hair),_0x3e7080[_0x36240a(0x1d4)](Hair),HairBody[_0x36240a(0x20d)](Hair),_0x3e7080[_0x36240a(0x216)](Hair),_0x2c0f2c[_0x36240a(0x216)](Hair),_0x1c09da[_0x36240a(0x216)](Hair),setContext(towerHeight);};setInterval(()=>{const _0x411376=_0x45b5b0;textincdec[_0x411376(0x21c)][_0x411376(0x1f0)]&&Composite[_0x411376(0x1d4)](textincdec,textincdec['bodies'][0x0]);let _0x384feb=Hair['bodies']['length']-0x3,_0x3c0afc=towerHeight/0x14;_0x3c0afc=Math['floor'](_0x3c0afc);if(_0x384feb<_0x3c0afc)addOneChain(),_0x384feb=_0x3c0afc;else _0x384feb>_0x3c0afc&&(removeOneChain(),_0x384feb=_0x3c0afc);},0x3e8),new recthair()[_0x45b5b0(0x216)](Hair),new hat()['create'](Hair),new text()[_0x45b5b0(0x216)](Hair),World['add'](world,[Head,Hair,Eye]);function UpdateUsers(_0x3ec86c){const _0x968949=_0x45b5b0;clientsCount=_0x3ec86c,document[_0x968949(0x204)]('.users-online')['textContent']='Онлайн:\x20'+clientsCount;}socket['on']('connection',_0x40d364=>{const _0x408751=_0x45b5b0;socket[_0x408751(0x1d0)]('frontVer',frontVersion),UpdateClick(_0x40d364);let _0x3e9c3b=_0x40d364/0x14;_0x3e9c3b=Math['floor'](_0x3e9c3b)-0x1,addChain(_0x3e9c3b),firststart();});function firststart(){const _0x591534=_0x45b5b0;let _0x29d7c7={'x':0x0,'y':Hair[_0x591534(0x21c)][Hair['bodies'][_0x591534(0x1f0)]-0x1][_0x591534(0x1e2)][_0x591534(0x20b)]['y']-0xc8};if(render[_0x591534(0x1e2)][_0x591534(0x20b)]['y']+_0x29d7c7['y']>world[_0x591534(0x1e2)]['max']['y'])_0x29d7c7['y']=world[_0x591534(0x1e2)][_0x591534(0x20b)]['y']-render[_0x591534(0x1e2)][_0x591534(0x20b)]['y'];Bounds[_0x591534(0x20e)](render[_0x591534(0x1e2)],_0x29d7c7);}socket['on'](_0x45b5b0(0x1fe),frontVersion),socket['on'](_0x45b5b0(0x210),UpdateClick),socket['on'](_0x45b5b0(0x214),UpdateClick),socket['on'](_0x45b5b0(0x1f8),_0x44bb92=>{const _0x59ed3b=_0x45b5b0,_0x175662=document['querySelector'](_0x59ed3b(0x1e6));_0x175662[_0x59ed3b(0x1f9)]=_0x59ed3b(0x1d6),setTimeout(()=>{const _0x149a58=_0x59ed3b,_0x2c4864=document[_0x149a58(0x204)](_0x149a58(0x1e6));_0x2c4864[_0x149a58(0x1f9)]='';},0x3e8),UpdateClick(_0x44bb92);const _0x358c0c=Bodies[_0x59ed3b(0x1cc)](Hair[_0x59ed3b(0x21c)][Hair[_0x59ed3b(0x21c)][_0x59ed3b(0x1f0)]-0x1][_0x59ed3b(0x219)]['x'],Hair[_0x59ed3b(0x21c)][Hair[_0x59ed3b(0x21c)][_0x59ed3b(0x1f0)]-0x1]['position']['y'],0x23,0x23,{'collisionFilter':{'group':group,'group':group2},'label':_0x59ed3b(0x1e5),'render':{'fillStyle':'#E2ECF5','text':{'content':'-100','color':_0x59ed3b(0x1f4),'size':0x12,'family':'Comfortaa'}},'frictionAir':0.3});Body[_0x59ed3b(0x217)](_0x358c0c,{'x':_0x358c0c[_0x59ed3b(0x219)]['x'],'y':_0x358c0c[_0x59ed3b(0x219)]['y']},{'x':0x0,'y':-0.05}),textincdec[_0x59ed3b(0x21c)]['length']&&Composite['clear'](textincdec),Composite[_0x59ed3b(0x20c)](textincdec,_0x358c0c);}),socket['on'](_0x45b5b0(0x21a),UpdateUsers);const mouse=Mouse[_0x45b5b0(0x216)](render[_0x45b5b0(0x1e4)]),mouseConstraint=MouseConstraint['create'](engine,{'mouse':mouse,'constraint':{'stiffness':0.001,'render':{'visible':![]}}});let mouseCoord={'x':0x0,'y':0x0};Events['on'](mouseConstraint,'mousemove',_0xfd049b=>{const _0x22a3e0=_0x45b5b0;mouseCoord['x']=_0xfd049b['mouse'][_0x22a3e0(0x219)]['x'],mouseCoord['y']=_0xfd049b[_0x22a3e0(0x1d2)][_0x22a3e0(0x219)]['y'],EyeBody[_0x22a3e0(0x1d1)](Eye['bodies'][0x2],Eye[_0x22a3e0(0x21c)][0x3],mouseCoord);});let btnclick=![];Events['on'](mouseConstraint,_0x45b5b0(0x1d3),_0x48fe00=>{const _0x3957ef=_0x45b5b0;let _0x38a067=Composite[_0x3957ef(0x1dc)](engine[_0x3957ef(0x1f6)]),_0x4ba5aa=Query[_0x3957ef(0x1ce)](_0x38a067,_0x48fe00[_0x3957ef(0x1d2)][_0x3957ef(0x219)]);if(_0x48fe00[_0x3957ef(0x1e1)][_0x3957ef(0x1d9)]!=_0x3957ef(0x1ff)&&_0x48fe00[_0x3957ef(0x1e1)][_0x3957ef(0x1d9)]!=_0x3957ef(0x211)){if(_0x4ba5aa['length']==0x0){btnclick=!![],setTimeout(()=>{btnclick=![];},0x1f4);const _0x2f2e71=new Audio();_0x2f2e71[_0x3957ef(0x1da)]=_0x3957ef(0x1ea),_0x2f2e71[_0x3957ef(0x1ec)](),decTowerHeight();}}}),document[_0x45b5b0(0x20a)]('click',()=>{const _0x5800c3=_0x45b5b0;let _0x236dc9=Composite[_0x5800c3(0x1dc)](engine[_0x5800c3(0x1f6)]),_0x574931=Query[_0x5800c3(0x1ce)](_0x236dc9,mouseConstraint[_0x5800c3(0x1d2)][_0x5800c3(0x219)]),_0x4338b0=!![];_0x574931[_0x5800c3(0x201)](function(_0x523d52){const _0x4d962d=_0x5800c3;if(_0x523d52[_0x4d962d(0x1d9)]!='glad'&&_0x523d52[_0x4d962d(0x1d9)]!=_0x4d962d(0x211)&&_0x4338b0){let _0x3ddbbb=Hair[_0x4d962d(0x21c)][Hair[_0x4d962d(0x21c)]['length']-0x4];btnclick=!![],setTimeout(()=>{btnclick=![];},0x1f4);const _0x35b12f=new Audio();_0x35b12f[_0x4d962d(0x1da)]=_0x4d962d(0x1ea),_0x35b12f[_0x4d962d(0x1ec)]();let _0x229946=getRandomFloat(-0.01,0.01);Body['setAngularVelocity'](_0x3ddbbb,_0x229946),Body[_0x4d962d(0x217)](_0x3ddbbb,_0x3ddbbb[_0x4d962d(0x219)],{'x':_0x229946,'y':0x0}),incTowerHeight(),_0x4338b0=![];}});}),World['add'](world,mouseConstraint),render[_0x45b5b0(0x1d2)]=mouse,Render[_0x45b5b0(0x21e)](render,{'min':{'x':0x0,'y':0x0},'max':{'x':0x2bc,'y':0x258}});let viewportCentre={'x':render[_0x45b5b0(0x1ed)][_0x45b5b0(0x203)]*0.5,'y':render[_0x45b5b0(0x1ed)][_0x45b5b0(0x207)]*0.5};world[_0x45b5b0(0x1e2)][_0x45b5b0(0x209)]['y']=-0x12c,world['bounds'][_0x45b5b0(0x20b)]['y']=0x258;let boundsScaleTarget=0x1,boundsScale={'x':0x1,'y':0x1},animid=0x0;document[_0x45b5b0(0x20a)]('visibilitychange',function(){const _0x31a5c2=_0x45b5b0;if(document[_0x31a5c2(0x1ee)])bgMusicplay['pause']();else!document[_0x31a5c2(0x1ee)]&&toggle!=![]&&bgMusicplay[_0x31a5c2(0x1ec)]();},!![]),Events['on'](engine,_0x45b5b0(0x20f),function(){const _0x406244=_0x45b5b0;var _0x218088=engine[_0x406244(0x1f6)],_0x4a165a=mouseConstraint[_0x406244(0x1d2)],_0x2bc9b7,_0x27692b=_0x4a165a[_0x406244(0x1dd)]*-0.1;_0x27692b!==0x0&&((_0x27692b<0x0&&boundsScale['x']>=0.6||_0x27692b>0x0&&boundsScale['x']<=1.4)&&(boundsScaleTarget+=_0x27692b));if(Math['abs'](boundsScale['x']-boundsScaleTarget)>0.01){_0x27692b=(boundsScaleTarget-boundsScale['y'])*0.2,boundsScale['y']+=_0x27692b,_0x2bc9b7={'x':0x0,'y':render[_0x406244(0x1ed)]['height']*_0x27692b*0.5};if(render[_0x406244(0x1e2)]['max']['y']+_0x2bc9b7['y']>_0x218088['bounds'][_0x406244(0x20b)]['y'])_0x2bc9b7['y']=_0x218088['bounds'][_0x406244(0x20b)]['y']-render[_0x406244(0x1e2)][_0x406244(0x20b)]['y'];Bounds[_0x406244(0x20e)](render[_0x406244(0x1e2)],_0x2bc9b7);}if(towerHeight<=0x0&&btnclick!=!![])Head[_0x406244(0x200)][_0x406244(0x1db)]['texture']=_0x406244(0x1f5),animid=0x1,Head[_0x406244(0x219)]['y']=0x1aa,Hair['bodies'][0x2][_0x406244(0x200)]['visible']=![],Hair['bodies'][0x1][_0x406244(0x200)][_0x406244(0x1e0)]=![],Hair['bodies'][0x0][_0x406244(0x200)]['visible']=![];else towerHeight>=0x0&&btnclick!=!![]&&(Head[_0x406244(0x200)][_0x406244(0x1db)]['texture']=_0x406244(0x208),animid=0x2,Head[_0x406244(0x219)]['y']=0x1ba,Hair['bodies'][0x2][_0x406244(0x200)][_0x406244(0x1e0)]=!![],Hair['bodies'][0x1][_0x406244(0x200)]['visible']=!![],Hair[_0x406244(0x21c)][0x0][_0x406244(0x200)][_0x406244(0x1e0)]=!![]);if(animid==0x1&&btnclick==!![])Head[_0x406244(0x219)]['y']=0x1a8,Head[_0x406244(0x200)][_0x406244(0x1db)][_0x406244(0x1e3)]=_0x406244(0x205);else animid==0x2&&btnclick==!![]&&(Head[_0x406244(0x219)]['y']=0x1b8,Head[_0x406244(0x200)]['sprite'][_0x406244(0x1e3)]=_0x406244(0x1df));towerHeight<=0x0&&setContext(_0x406244(0x1fd));});function getRandomFloat(_0x246bee,_0x316bf1){const _0x58e1e2=_0x45b5b0;return Math[_0x58e1e2(0x1de)]()*(_0x316bf1-_0x246bee)+_0x246bee;}function getRandomInt(_0x554f47,_0x23468e){const _0x4bea3=_0x45b5b0;return Math[_0x4bea3(0x1f3)](Math['random']()*(_0x23468e-_0x554f47+0x1))+_0x554f47;}